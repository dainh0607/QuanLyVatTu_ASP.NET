<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Cửa hàng vật tư</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" />

    <title>@ViewData["Title"] - Quản lý vật tư</title>
    <link rel="stylesheet" href="~/user/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/user/css/Layout_Customer.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/user/css/cart-dropdown.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="~/user/css/site.css" asp-append-version="true" />
</head>
<body>
<header class="main-header">
    <div class="top-header py-3">
        <div class="container d-flex align-items-center justify-content-between">
            
            <div class="logo">
                <a href="/">
                    <span class="logo-icon">FN</span>
                    <span>Cửa hàng vật tư</span>
                </a>
            </div>

            <div class="search-box-wrapper">
                <form action="/Search" method="get" class="search-form">
                    <input type="text" name="q" placeholder="Tìm kiếm sản phẩm..." class="search-input" />
                    <button type="submit" class="search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>

            <div class="header-actions">
                <a href="/GioHang/Wishlist" class="icon-btn">
                    <i class="fa-regular fa-heart"></i>
                    <span class="badge-count">0</span>
                </a>
                <a href="/GioHang/GioHang" class="icon-btn">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <span class="badge-count cart-count">0</span>
                </a>

                @if (User.Identity.IsAuthenticated)
                {
                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center gap-2 text-decoration-none text-dark" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle fa-lg text-white"></i> <span class="text-white">@User.Identity.Name</span> </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="/Customer/Profile">Tài khoản</a></li>
                            <li><a class="dropdown-item" href="/Customer/Orders">Đơn hàng</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/Account/Logout">Đăng xuất</a></li>
                        </ul>
                    </div>
                }
                else
                {
                    <div class="auth-buttons">
                        <a href="/Account/Login" class="btn-login">Đăng nhập</a>
                        <a href="/Account/Login?show=register" class="btn-register">Đăng ký</a>
                    </div>
                }
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="container">
            <ul class="nav-menu">
                <li><a href="/" class="nav-link">Trang chủ</a></li>
                <li><a href="/SanPham" class="nav-link">Danh mục sản phẩm</a></li>
                <li><a href="/Customer/About" class="nav-link">Giới thiệu</a></li>
                <li><a href="/Contact" class="nav-link">Liên hệ</a></li>
            </ul>
        </div>
    </div>
</header>

    <main role="main">
        @RenderBody()
    </main>
<footer class="main-footer">
    <div class="container">
        <div class="footer-top row">
            <!-- Cột liên hệ -->
            <div class="col-md-3 col-sm-6 mb-4">
                <h5 class="footer-title">Liên hệ</h5>
                <ul class="footer-links list-unstyled">
                    <li><i class="bi bi-clock me-2"></i>Liên hệ trong giờ làm việc</li>
                    <li><i class="bi bi-chat-dots me-2"></i>Zalo: 0302370432</li>
                    <li><i class="bi bi-envelope me-2"></i>Email: dainhtb01722@gmail.com</li>
                </ul>
            </div>
            
            <!-- Cột về chúng tôi -->
            <div class="col-md-3 col-sm-6 mb-4">
                <h5 class="footer-title">Về chúng tôi</h5>
                <ul class="footer-links list-unstyled">
                    <li><a href="#"><i class="bi bi-info-circle me-2"></i>Giới thiệu</a></li>
                    <li><a href="#"><i class="bi bi-telephone me-2"></i>Liên hệ</a></li>
                    <li><a href="#"><i class="bi bi-question-circle me-2"></i>FAQs</a></li>
                </ul>
            </div>
            
            <!-- Cột chính sách -->
            <div class="col-md-3 col-sm-6 mb-4">
                <h5 class="footer-title">Chính sách</h5>
                <ul class="footer-links list-unstyled">
                    <li><a href="#"><i class="bi bi-cart-check me-2"></i>Hướng dẫn mua hàng</a></li>
                    <li><a href="#"><i class="bi bi-credit-card me-2"></i>Điều khoản thanh toán</a></li>
                    <li><a href="#"><i class="bi bi-truck me-2"></i>Giao hàng - vận chuyển</a></li>
                    <li><a href="#"><i class="bi bi-shield-check me-2"></i>Chính sách bảo hành</a></li>
                </ul>
            </div>
            
            <!-- Cột hợp tác -->
            <div class="col-md-3 col-sm-6 mb-4">
                <h5 class="footer-title">Hợp tác</h5>
                <ul class="footer-links list-unstyled">
                    <li><a href="#"><i class="bi bi-person-plus me-2"></i>Tuyển dụng</a></li>
                    <li><a href="#"><i class="bi bi-handshake me-2"></i>Chính sách đại lý</a></li>
                </ul>
            </div>
        </div>
        
        <!-- Dòng bên dưới với bản quyền và mạng xã hội -->
        <div class="footer-bottom border-top border-secondary pt-4 mt-4">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <p class="mb-0">&copy; 2025 Furniture Store. Tất cả quyền được bảo lưu.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <div class="social-icons">
                        <a href="#" class="btn btn-outline-light btn-sm me-2">
                            <i class="bi bi-facebook me-1"></i>Facebook
                        </a>
                        <a href="#" class="btn btn-outline-light btn-sm me-2">
                            <i class="bi bi-instagram me-1"></i>Instagram
                        </a>
                        <a href="#" class="btn btn-outline-light btn-sm">
                            <i class="bi bi-chat-dots me-1"></i>Zalo
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
    @await RenderSectionAsync("Styles", required: false)
    <script>
        // Mobile menu toggle
        document.getElementById('mobileMenuToggle').addEventListener('click', function() {
            const nav = document.getElementById('mainNav');
            nav.classList.toggle('active');
        });

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.trim();
            const suggestions = document.getElementById('searchSuggestions');

            if (searchTerm.length > 2) {
                // Hiển thị gợi ý tìm kiếm
                suggestions.style.display = 'block';
                // Gọi API tìm kiếm ở đây
            } else {
                suggestions.style.display = 'none';
            }
        });

        // User dropdown
        document.querySelectorAll('.user-dropdown').forEach(dropdown => {
            const toggle = dropdown.querySelector('.user-info');
            const menu = dropdown.querySelector('.user-menu');

            toggle.addEventListener('click', function(e) {
                e.preventDefault();
                menu.classList.toggle('show');
            });

            // Đóng dropdown khi click ra ngoài
            document.addEventListener('click', function(e) {
                if (!dropdown.contains(e.target)) {
                    menu.classList.remove('show');
                }
            });
        });

        // Update cart count
        function updateCartCount(count) {
            document.querySelectorAll('.cart-count, .badge').forEach(el => {
                el.textContent = count;
            });
        }

        // Quick cart preview
        document.querySelector('.cart-icon').addEventListener('mouseenter', function() {
            // Hiển thị preview giỏ hàng
        });
    </script>
</body>
</html>